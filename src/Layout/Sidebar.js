import React, { useEffect, useState } from 'react'
import { Link } from 'react-router-dom'
import styles from '../Styles/sidebar.module.css'
import Cookies from 'js-cookie';
import logo from '../assets/images/LOGO.png'
import su from '../assets/images/System Clinic.png'
import { useDispatch } from 'react-redux';
import { logout } from '../Redux/slices/UserSlice'
const Sidebar = (props) => {
    const [active, setActive] = useState(`${props.active}`)
    const dispatch = useDispatch();
    const handleLogout = () => {
        localStorage.clear();
        Cookies.remove();
        dispatch(logout());
    };
    const [isSettingOpen, setIsSettingOpen] = useState(props.salesopen);

    const toggleSales = () => {
        setIsSettingOpen(!isSettingOpen);
    };
    return (
        <>
            <div className={`${styles.sidebar}`}>

                <div className={`${styles.top}`}>

                    <Link to="/" style={{ textDecoration: "none" }}>
                        <img alt='' src={logo} className={`${styles.logo}`} />
                        <img alt='' src={su} />
                    </Link>
                </div>
                <div className={`${styles.center}`}>

                    <ul>
                        <Link to="/" style={{ textDecoration: "none" }}>
                            <li className={` ${active === 'dashboard' ? styles.active : styles.li}`}>

                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="19" viewBox="0 0 16 19" fill="none">
                                    <path d="M2 16.25H5V10.25H11V16.25H14V7.25L8 2.75L2 7.25V16.25ZM2 18.25C1.45 18.25 0.979333 18.0543 0.588 17.663C0.196 17.271 0 16.8 0 16.25V7.25C0 6.93333 0.0709998 6.63333 0.213 6.35C0.354333 6.06667 0.55 5.83333 0.8 5.65L6.8 1.15C6.98333 1.01667 7.175 0.916667 7.375 0.85C7.575 0.783333 7.78333 0.75 8 0.75C8.21667 0.75 8.425 0.783333 8.625 0.85C8.825 0.916667 9.01667 1.01667 9.2 1.15L15.2 5.65C15.45 5.83333 15.646 6.06667 15.788 6.35C15.9293 6.63333 16 6.93333 16 7.25V16.25C16 16.8 15.8043 17.271 15.413 17.663C15.021 18.0543 14.55 18.25 14 18.25H9V12.25H7V18.25H2Z" className={`${styles.icon}`} />
                                </svg>
                                <span>Dashboard</span>
                            </li>
                        </Link>
                        <Link to="/patients" style={{ textDecoration: "none" }}>
                            <li className={` ${active === 'patients' ? styles.active : styles.li}`}>
                                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                                    <path d="M7.85729 11C8.63441 11 9.39408 10.7695 10.0402 10.3378C10.6864 9.90603 11.19 9.29235 11.4873 8.57437C11.7847 7.85639 11.8625 7.06635 11.7108 6.30417C11.5591 5.54198 11.1849 4.84189 10.6353 4.29243C10.0858 3.74297 9.38559 3.36882 8.62339 3.21729C7.86118 3.06576 7.07115 3.14367 6.35322 3.44116C5.63529 3.73864 5.0217 4.24235 4.59005 4.88857C4.15841 5.53479 3.92809 6.2945 3.92822 7.07163C3.92931 8.11328 4.34364 9.11195 5.08027 9.84844C5.81689 10.5849 6.81563 10.9991 7.85729 11Z" className={`${styles.icon}`} />
                                    <path d="M12.9972 14.2457C12.0016 13.2245 10.7241 12.5232 9.32803 12.2315C7.93195 11.9398 6.48059 12.0709 5.15936 12.608C3.83813 13.1451 2.707 14.0639 1.91046 15.247C1.11393 16.4301 0.688144 17.8238 0.6875 19.25C0.6875 19.4323 0.759933 19.6072 0.888864 19.7361C1.0178 19.8651 1.19266 19.9375 1.375 19.9375H14.3413C14.5236 19.9375 14.6985 19.8651 14.8274 19.7361C14.9563 19.6072 15.0288 19.4323 15.0288 19.25C15.0314 18.521 14.9189 17.7961 14.6953 17.1023C14.3624 16.0295 13.7806 15.0507 12.9972 14.2457Z" className={`${styles.icon}`} />
                                    <path d="M16.1562 11.3438C17.77 11.3438 19.0781 10.0356 19.0781 8.42188C19.0781 6.80817 17.77 5.5 16.1562 5.5C14.5425 5.5 13.2344 6.80817 13.2344 8.42188C13.2344 10.0356 14.5425 11.3438 16.1562 11.3438Z" className={`${styles.icon}`} />
                                    <path d="M16.1562 12.1481C15.2346 12.1516 14.3309 12.4026 13.5396 12.8748C13.6887 13.0082 13.8393 13.1395 13.9802 13.2839C14.9164 14.2461 15.6118 15.4159 16.0097 16.698C16.146 17.1201 16.2465 17.5529 16.3102 17.9919H20.6249C20.8073 17.9919 20.9821 17.9194 21.1111 17.7905C21.24 17.6616 21.3124 17.4867 21.3124 17.3044C21.311 15.9373 20.7673 14.6266 19.8006 13.66C18.8339 12.6933 17.5233 12.1496 16.1562 12.1481Z" className={`${styles.icon}`} />
                                </svg>
                                <span>Patients</span>
                            </li>
                        </Link>
                        <Link to="/employees" style={{ textDecoration: "none" }}>
                            <li className={` ${active === 'employees' ? styles.active : styles.li}`}>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M4.5 12.75C2.84583 12.75 1.5 11.4045 1.5 9.75C1.5 8.09546 2.84583 6.75 4.5 6.75C6.15417 6.75 7.5 8.09546 7.5 9.75C7.5 11.4045 6.15417 12.75 4.5 12.75ZM5.82751 13.2524C4.97241 13.5828 4.02759 13.5828 3.17249 13.2524C2.95496 13.1697 2.7074 13.1997 2.51257 13.3198C1.40991 14.0178 0.75 15.2021 0.75 16.5V19.5C0.75 19.9124 1.08765 20.25 1.5 20.25H5.25V16.5C5.25 15.3376 5.55762 14.2053 6.11243 13.2151C6.01501 13.1997 5.9176 13.2151 5.82751 13.2524ZM19.5 12.75C21.1542 12.75 22.5 11.4045 22.5 9.75C22.5 8.09546 21.1542 6.75 19.5 6.75C17.8458 6.75 16.5 8.09546 16.5 9.75C16.5 11.4045 17.8458 12.75 19.5 12.75ZM21.4874 13.3198C21.2926 13.1997 21.045 13.1697 20.8275 13.2524C19.9724 13.5828 19.0276 13.5828 18.1725 13.2524C18.0824 13.2151 17.985 13.1997 17.8876 13.2151C18.4424 14.2053 18.75 15.3376 18.75 16.5V20.25H22.5C22.9124 20.25 23.25 19.9124 23.25 19.5V16.5C23.25 15.2021 22.5901 14.0178 21.4874 13.3198ZM12 11.25C9.93237 11.25 8.25 9.56763 8.25 7.5C8.25 5.43237 9.93237 3.75 12 3.75C14.0676 3.75 15.75 5.43237 15.75 7.5C15.75 9.56763 14.0676 11.25 12 11.25ZM17.25 16.5C17.25 14.8271 16.4476 13.2524 15.0974 12.2703C14.8726 12.1047 14.5726 12.0828 14.3251 12.2021C13.8226 12.4578 13.2902 12.6152 12.75 12.6899V16.5C12.75 16.9124 12.4124 17.25 12 17.25C11.5876 17.25 11.25 16.9124 11.25 16.5V12.6899C10.7098 12.6152 10.1774 12.4578 9.67493 12.2021C9.42737 12.0828 9.12744 12.1047 8.90259 12.2703C7.55237 13.2524 6.75 14.8271 6.75 16.5V20.25H17.25V16.5Z" className={`${styles.icon}`} />
                                </svg>
                                <span>Employees</span>
                            </li>
                        </Link>
                        <Link to="/reports" style={{ textDecoration: "none" }}>
                            <li className={` ${active === 'reports' ? styles.active : styles.li}`}>
                                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                                    <path d="M18.5837 12.0837H10.9163C10.364 12.0837 9.9163 11.636 9.9163 11.0837V3.4163C9.9163 3.18638 9.72992 3 9.5 3C4.25329 3 0 7.25329 0 12.5C0 17.7467 4.25329 22 9.5 22C14.7467 22 19 17.7467 19 12.5C19 12.2701 18.8136 12.0837 18.5837 12.0837Z" className={`${styles.icon}`} />
                                    <path d="M12.4198 0C12.188 0 12 0.187958 12 0.419815V9.58018C12 9.81204 12.188 10 12.4198 10H21.5802C21.812 10 22 9.81204 22 9.58018C21.9954 4.29111 17.7089 0.00462939 12.4198 0Z" className={`${styles.icon}`} />
                                </svg>
                                <span>Reports</span>
                            </li>
                        </Link>
                        <Link to="/financial" style={{ textDecoration: "none" }}>
                            <li className={` ${active === 'financial' ? styles.active : styles.li}`}>
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                    <path d="M5.83301 8.95V11.6167" className={`${styles.icon}`} stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                    <path d="M10 7.5V13.0667" className={`${styles.icon}`} stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                    <path d="M14.167 8.95V11.6167" className={`${styles.icon}`} stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                    <path d="M7.50033 18.3333H12.5003C16.667 18.3333 18.3337 16.6667 18.3337 12.5V7.5C18.3337 3.33333 16.667 1.66667 12.5003 1.66667H7.50033C3.33366 1.66667 1.66699 3.33333 1.66699 7.5V12.5C1.66699 16.6667 3.33366 18.3333 7.50033 18.3333Z" className={`${styles.icon}`} stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                <span>Financial</span>
                            </li>
                        </Link>
                        <Link to="" style={{ textDecoration: "none" }}>
                            <li className={` ${active === 'setting' ? styles.active : styles.li}`} onClick={toggleSales}>
                                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                                    <g clip-path="url(#clip0_102_873)">
                                        <path d="M1.91528 9.42078C2.34973 8.07709 3.06544 6.84368 4.00979 5.7984C4.16949 5.62164 4.42002 5.55864 4.64433 5.63884L6.90113 6.44579C7.51299 6.66443 8.18624 6.34568 8.40489 5.73383C8.42639 5.67367 8.44295 5.61185 8.4544 5.5491L8.88435 3.18909C8.9271 2.95444 9.10731 2.76883 9.3406 2.71917C10.0232 2.57388 10.723 2.5 11.4321 2.5C12.1407 2.5 12.8401 2.57379 13.5223 2.71891C13.7555 2.76852 13.9357 2.95401 13.9785 3.18857L14.4097 5.549C14.5263 6.1882 15.1389 6.61188 15.7782 6.49531C15.841 6.48385 15.9028 6.46728 15.9629 6.44582L18.2198 5.63884C18.4441 5.55864 18.6946 5.62164 18.8543 5.7984C19.7987 6.84368 20.5144 8.07709 20.9488 9.42078C21.0221 9.64746 20.9515 9.89597 20.7698 10.0502L18.9406 11.6032C18.4453 12.0238 18.3848 12.7662 18.8053 13.2615C18.8467 13.3102 18.8919 13.3554 18.9406 13.3968L20.7698 14.9498C20.9515 15.104 21.0221 15.3525 20.9488 15.5792C20.5144 16.9229 19.7987 18.1563 18.8543 19.2016C18.6946 19.3784 18.4441 19.4414 18.2198 19.3612L15.963 18.5542C15.3511 18.3356 14.6779 18.6543 14.4592 19.2662C14.4377 19.3263 14.4212 19.3882 14.4097 19.4512L13.9785 21.8114C13.9357 22.046 13.7555 22.2315 13.5223 22.2811C12.8401 22.4262 12.1407 22.5 11.4321 22.5C10.723 22.5 10.0232 22.4261 9.3406 22.2808C9.10731 22.2312 8.9271 22.0456 8.88435 21.8109L8.45442 19.451C8.33785 18.8118 7.72517 18.3881 7.08597 18.5047C7.02311 18.5162 6.9613 18.5327 6.90123 18.5542L4.64433 19.3612C4.42002 19.4414 4.16949 19.3784 4.00979 19.2016C3.06544 18.1563 2.34973 16.9229 1.91528 15.5792C1.84198 15.3525 1.91265 15.104 2.09427 14.9498L3.92349 13.3968C4.41877 12.9762 4.47935 12.2338 4.0588 11.7385C4.01744 11.6898 3.97219 11.6446 3.92352 11.6032L2.09427 10.0502C1.91265 9.89597 1.84198 9.64746 1.91528 9.42078ZM9.07912 12.5C9.07912 13.7995 10.1326 14.8529 11.4321 14.8529C12.7316 14.8529 13.785 13.7995 13.785 12.5C13.785 11.2005 12.7316 10.1471 11.4321 10.1471C10.1326 10.1471 9.07912 11.2005 9.07912 12.5Z" className={`${styles.icon}`} />
                                    </g>
                                    <defs>
                                        <clipPath id="clip0_102_873">
                                            <rect width="22" height="22" className={`${styles.icon}`} />
                                        </clipPath>
                                    </defs>
                                </svg>
                                <span>Setting
                                </span>
                            </li>
                        </Link>
                        {isSettingOpen && (
                            <>

                                <Link to="/branch" style={{ textDecoration: "none" }}>
                                    <li className={`${styles.li1}`}>
                                        <span>Branch</span>
                                    </li>
                                </Link>
                                <Link to="/diagnoses" style={{ textDecoration: "none" }}>
                                    <li className={`${styles.li1}`}>
                                        <span>Diagnoses</span>
                                    </li>
                                </Link>
                                <Link to="/service" style={{ textDecoration: "none" }}>
                                    <li className={`${styles.li1}`}>
                                        <span>Service</span>
                                    </li>
                                </Link>
                                <Link to="/setting" style={{ textDecoration: "none" }}>
                                    <li className={`${styles.li1}`}>
                                        <span>User</span>
                                    </li>
                                </Link>

                            </>
                        )}
                    </ul>

                </div>
                <div className={`${styles.bottom}`}>
                    <ul>

                        <li className={`${styles.li}`}>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="18" viewBox="0 0 16 18" fill="none">
                                <path d="M11.2205 13.0954C11.0536 12.8891 10.9701 12.6549 10.9701 12.3928C10.9701 12.1312 11.0536 11.9132 11.2205 11.7387L12.9047 9.97723H6.37269C6.11475 9.97723 5.89868 9.88583 5.72449 9.70302C5.5497 9.52085 5.4623 9.29488 5.4623 9.02512C5.4623 8.75535 5.5497 8.52906 5.72449 8.34626C5.89868 8.16408 6.11475 8.073 6.37269 8.073H12.9047L11.2205 6.31158C11.0384 6.12116 10.9474 5.89519 10.9474 5.63367C10.9474 5.37152 11.0384 5.14524 11.2205 4.95481C11.3874 4.76439 11.5962 4.66918 11.8468 4.66918C12.0969 4.66918 12.3054 4.75645 12.4723 4.93101L15.7496 8.35863C15.8407 8.45385 15.9053 8.55699 15.9436 8.66807C15.9812 8.77915 16 8.89817 16 9.02512C16 9.15207 15.9812 9.27108 15.9436 9.38216C15.9053 9.49324 15.8407 9.59639 15.7496 9.6916L12.4723 13.1192C12.275 13.3255 12.0589 13.4166 11.8241 13.3925C11.5886 13.369 11.3874 13.27 11.2205 13.0954ZM1.82077 17.5942C1.32006 17.5942 0.891266 17.4079 0.534395 17.0353C0.178132 16.6621 0 16.2136 0 15.6899V2.36029C0 1.83663 0.178132 1.38818 0.534395 1.01495C0.891266 0.642352 1.32006 0.456055 1.82077 0.456055H7.28307C7.54101 0.456055 7.75738 0.547141 7.93218 0.729312C8.10636 0.912119 8.19346 1.13841 8.19346 1.40817C8.19346 1.67794 8.10636 1.90391 7.93218 2.08608C7.75738 2.26889 7.54101 2.36029 7.28307 2.36029H1.82077V15.6899H7.28307C7.54101 15.6899 7.75738 15.7813 7.93218 15.9642C8.10636 16.1463 8.19346 16.3723 8.19346 16.6421C8.19346 16.9118 8.10636 17.1378 7.93218 17.32C7.75738 17.5028 7.54101 17.5942 7.28307 17.5942H1.82077Z" fill="#808191" className={`${styles.icon}`} />
                            </svg>
                            <span onClick={handleLogout}>Logout</span>
                        </li>
                    </ul>
                </div>

            </div>

        </>
    )
}

export default Sidebar
